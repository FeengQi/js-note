本章内容
 - 进行离线检测
 - 使用离线缓存
 - 在浏览器中保存数据

### 23.1  离线检测
HTML5定义了一个navigator.onLine属性，为true时表示设备能上网，为false时表示设备离线。
实际应用中，navigator.onLine在不同浏览器间还有差异。
  > - IE6+和Safari5+能够正确检测到网络已断开，并将navigator.onLine的值转换为false。
  > - Firefox3+Opear10.6支持navigator.onLine属性，但必须手工在菜单项‘文件-Web开发人员（设置）-脱机工作’才能让浏览器正常工作。
  > - Chrome11及之前的版本始终将navigator.onLine属性设置为true（2011年10月已被修复）。
```
if(navigator.onLine){
	// 正常工作
} else {
	// 执行离线状态时的任务
}
```
HTML5定义了两个事件：
 - online
 - offline
 
当网络从离线变为在线或者从在线变为离线的时候时，分别触发这两个事件
```
EventUtil.addHandler(window,'online',function(){
	alert('OnLine')
});
EventUtil.addHandler(window,'offline',function(){
	alert('Offline')
});
```
- 为了检测是否离线，在页面加载后，最好先通过navigator.onLine取得初始状态。然后，通过上述两个事件来确定网络连接状态是否变化。当上述事件触发时，navigator.onLine属性的值也会改变，不过必须手工轮询这个属性才能检测到网络状态的变化。
- 支持离线检测的浏览器只有IE6+（只支持navigator.onLine属性）、Firefox3、Safari4、Opera10.6、Chrome、iOS3.2版Safari和Android版WebKit。

### 23.2  应用缓存
HTML5 的应用缓存（application cache），或者简称为 appcache，是专门为开发离线 Web 应用而设计
的。Appcache 就是从浏览器的缓存中分出来的一块缓存区。
